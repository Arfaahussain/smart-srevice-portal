{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file:///E:/dev/ntt/smart-service-portal/frontend/services/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:5000/api\"\r\n});\r\n\r\n// Attach token automatically\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  if (token) {\r\n    config.headers.authorization = token;\r\n  }\r\n\r\n  return config;\r\n});\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEA,MAAM,MAAM,iKAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEA,6BAA6B;AAC7B,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC;IAEnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG;IACjC;IAEA,OAAO;AACT;uCAEe"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file:///E:/dev/ntt/smart-service-portal/frontend/pages/requests.js"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\nimport api from \"../services/api\";\nimport Link from \"next/link\";\n\nexport default function Requests() {\n\n  const [data, setData] = useState([]);\n  const [search, setSearch] = useState(\"\");\n\n  const [filter, setFilter] = useState({\n    status: \"\",\n    priority: \"\"\n  });\n\n  const load = useCallback(async () => {\n    const res = await api.get(\"/requests\", {\n      params: filter\n    });\n\n    setData(res.data);\n  }, [filter]);\n\n  useEffect(() => {\n    // eslint-disable-next-line\n    load();\n  }, [load]);\n\n  const updateStatus = async (id, status) => {\n    await api.put(`/requests/${id}`, { status });\n    load();\n  };\n\n  const getBadge = (p) => {\n    if (p === \"High\") return \"badge-high\";\n    if (p === \"Medium\") return \"badge-medium\";\n    return \"badge-low\";\n  };\n\n  const filtered = data.filter(d =>\n    (d.title ?? \"\").toLowerCase().includes(search.toLowerCase())\n  );\n\n  return (\n    <div className=\"container\">\n      <div className=\"topbar\">\n        <h2 className=\"title\">Service Requests</h2>\n        <div className=\"nav\">\n          <Link className=\"btn-secondary\" href=\"/dashboard\">Dashboard</Link>\n          <Link className=\"btn\" href=\"/create\">New Request</Link>\n        </div>\n      </div>\n\n      <div className=\"toolbar\">\n        <div className=\"search\">\n          <input\n            placeholder=\"Search by title...\"\n            onChange={e => setSearch(e.target.value)}\n          />\n        </div>\n\n        <select\n          className=\"filter\"\n          onChange={e => setFilter({ ...filter, status: e.target.value })}\n        >\n          <option value=\"\">All Status</option>\n          <option>Open</option>\n          <option>In Progress</option>\n          <option>Resolved</option>\n        </select>\n\n        <select\n          className=\"filter\"\n          onChange={e => setFilter({ ...filter, priority: e.target.value })}\n        >\n          <option value=\"\">All Priority</option>\n          <option>Low</option>\n          <option>Medium</option>\n          <option>High</option>\n        </select>\n      </div>\n\n      <div className=\"grid\">\n        {filtered.map(r => (\n          <div className=\"card\" key={r._id}>\n            <h3>{r.title}</h3>\n\n            <span className={getBadge(r.priority)}>\n              {r.priority}\n            </span>\n\n            <p>{r.description}</p>\n\n            <p className=\"muted\">Status: {r.status}</p>\n\n            <select\n              value={r.status}\n              onChange={e => updateStatus(r._id, e.target.value)}\n            >\n              <option>Open</option>\n              <option>In Progress</option>\n              <option>Resolved</option>\n            </select>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;;;;AAEe,SAAS;IAEtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC,EAAE;IACnC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;IAErC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;QACnC,QAAQ;QACR,UAAU;IACZ;IAEA,MAAM,OAAO,IAAA,kHAAW,EAAC;QACvB,MAAM,MAAM,MAAM,+HAAG,CAAC,GAAG,CAAC,aAAa;YACrC,QAAQ;QACV;QAEA,QAAQ,IAAI,IAAI;IAClB,GAAG;QAAC;KAAO;IAEX,IAAA,gHAAS,EAAC;QACR,2BAA2B;QAC3B;IACF,GAAG;QAAC;KAAK;IAET,MAAM,eAAe,OAAO,IAAI;QAC9B,MAAM,+HAAG,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,IAAI,EAAE;YAAE;QAAO;QAC1C;IACF;IAEA,MAAM,WAAW,CAAC;QAChB,IAAI,MAAM,QAAQ,OAAO;QACzB,IAAI,MAAM,UAAU,OAAO;QAC3B,OAAO;IACT;IAEA,MAAM,WAAW,KAAK,MAAM,CAAC,CAAA,IAC3B,CAAC,EAAE,KAAK,IAAI,EAAE,EAAE,WAAW,GAAG,QAAQ,CAAC,OAAO,WAAW;IAG3D,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAG,WAAU;kCAAQ;;;;;;kCACtB,qKAAC;wBAAI,WAAU;;0CACb,qKAAC,gIAAI;gCAAC,WAAU;gCAAgB,MAAK;0CAAa;;;;;;0CAClD,qKAAC,gIAAI;gCAAC,WAAU;gCAAM,MAAK;0CAAU;;;;;;;;;;;;;;;;;;0BAIzC,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAI,WAAU;kCACb,cAAA,qKAAC;4BACC,aAAY;4BACZ,UAAU,CAAA,IAAK,UAAU,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;kCAI3C,qKAAC;wBACC,WAAU;wBACV,UAAU,CAAA,IAAK,UAAU;gCAAE,GAAG,MAAM;gCAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;4BAAC;;0CAE7D,qKAAC;gCAAO,OAAM;0CAAG;;;;;;0CACjB,qKAAC;0CAAO;;;;;;0CACR,qKAAC;0CAAO;;;;;;0CACR,qKAAC;0CAAO;;;;;;;;;;;;kCAGV,qKAAC;wBACC,WAAU;wBACV,UAAU,CAAA,IAAK,UAAU;gCAAE,GAAG,MAAM;gCAAE,UAAU,EAAE,MAAM,CAAC,KAAK;4BAAC;;0CAE/D,qKAAC;gCAAO,OAAM;0CAAG;;;;;;0CACjB,qKAAC;0CAAO;;;;;;0CACR,qKAAC;0CAAO;;;;;;0CACR,qKAAC;0CAAO;;;;;;;;;;;;;;;;;;0BAIZ,qKAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAA,kBACZ,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;0CAAI,EAAE,KAAK;;;;;;0CAEZ,qKAAC;gCAAK,WAAW,SAAS,EAAE,QAAQ;0CACjC,EAAE,QAAQ;;;;;;0CAGb,qKAAC;0CAAG,EAAE,WAAW;;;;;;0CAEjB,qKAAC;gCAAE,WAAU;;oCAAQ;oCAAS,EAAE,MAAM;;;;;;;0CAEtC,qKAAC;gCACC,OAAO,EAAE,MAAM;gCACf,UAAU,CAAA,IAAK,aAAa,EAAE,GAAG,EAAE,EAAE,MAAM,CAAC,KAAK;;kDAEjD,qKAAC;kDAAO;;;;;;kDACR,qKAAC;kDAAO;;;;;;kDACR,qKAAC;kDAAO;;;;;;;;;;;;;uBAjBe,EAAE,GAAG;;;;;;;;;;;;;;;;AAwB1C"}}]
}