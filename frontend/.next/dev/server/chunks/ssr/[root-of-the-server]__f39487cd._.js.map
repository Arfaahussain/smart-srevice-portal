{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 12, "column": 0}, "map": {"version":3,"sources":["file:///E:/dev/ntt/smart-service-portal/frontend/services/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:5000/api\"\r\n});\r\n\r\n// Attach token automatically\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  if (token) {\r\n    config.headers.authorization = token;\r\n  }\r\n\r\n  return config;\r\n});\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEA,MAAM,MAAM,iKAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEA,6BAA6B;AAC7B,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC;IAEnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG;IACjC;IAEA,OAAO;AACT;uCAEe"}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///E:/dev/ntt/smart-service-portal/frontend/pages/requests.js"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\nimport api from \"../services/api\";\nimport Link from \"next/link\";\n\nexport default function Requests() {\n\n  const [data, setData] = useState([]);\n\n  const [filter, setFilter] = useState({\n    status: \"\",\n    category: \"\",\n    priority: \"\"\n  });\n\n  const load = useCallback(async () => {\n    const res = await api.get(\"/requests\", {\n      params: filter\n    });\n\n    setData(res.data);\n  }, [filter]);\n\n  useEffect(() => {\n    // eslint-disable-next-line\n    load();\n  }, [load]);\n\n  const updateStatus = async (id, status) => {\n\n    await api.put(`/requests/${id}`, { status });\n\n    load();\n  };\n\n  return (\n    <div style={{ padding: 20 }}>\n\n      <h2>All Requests</h2>\n\n      <Link href=\"/create\">Create New</Link>\n\n      <div>\n        <select\n          onChange={e =>\n            setFilter({ ...filter, status: e.target.value })\n          }\n        >\n          <option value=\"\">All Status</option>\n          <option>Open</option>\n          <option>In Progress</option>\n          <option>Resolved</option>\n        </select>\n      </div>\n\n      {data.map(r => (\n        <div\n          key={r._id}\n          style={{\n            border: \"1px solid gray\",\n            margin: 10,\n            padding: 10\n          }}\n        >\n\n          <h4>{r.title}</h4>\n\n          <p>Category: {r.category}</p>\n          <p>Priority: {r.priority}</p>\n          <p>Status: {r.status}</p>\n\n          <select\n            value={r.status}\n            onChange={e =>\n              updateStatus(r._id, e.target.value)\n            }\n          >\n            <option>Open</option>\n            <option>In Progress</option>\n            <option>Resolved</option>\n          </select>\n\n        </div>\n      ))}\n\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;;;;AAEe,SAAS;IAEtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC,EAAE;IAEnC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;QACnC,QAAQ;QACR,UAAU;QACV,UAAU;IACZ;IAEA,MAAM,OAAO,IAAA,kHAAW,EAAC;QACvB,MAAM,MAAM,MAAM,+HAAG,CAAC,GAAG,CAAC,aAAa;YACrC,QAAQ;QACV;QAEA,QAAQ,IAAI,IAAI;IAClB,GAAG;QAAC;KAAO;IAEX,IAAA,gHAAS,EAAC;QACR,2BAA2B;QAC3B;IACF,GAAG;QAAC;KAAK;IAET,MAAM,eAAe,OAAO,IAAI;QAE9B,MAAM,+HAAG,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,IAAI,EAAE;YAAE;QAAO;QAE1C;IACF;IAEA,qBACE,qKAAC;QAAI,OAAO;YAAE,SAAS;QAAG;;0BAExB,qKAAC;0BAAG;;;;;;0BAEJ,qKAAC,gIAAI;gBAAC,MAAK;0BAAU;;;;;;0BAErB,qKAAC;0BACC,cAAA,qKAAC;oBACC,UAAU,CAAA,IACR,UAAU;4BAAE,GAAG,MAAM;4BAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;wBAAC;;sCAGhD,qKAAC;4BAAO,OAAM;sCAAG;;;;;;sCACjB,qKAAC;sCAAO;;;;;;sCACR,qKAAC;sCAAO;;;;;;sCACR,qKAAC;sCAAO;;;;;;;;;;;;;;;;;YAIX,KAAK,GAAG,CAAC,CAAA,kBACR,qKAAC;oBAEC,OAAO;wBACL,QAAQ;wBACR,QAAQ;wBACR,SAAS;oBACX;;sCAGA,qKAAC;sCAAI,EAAE,KAAK;;;;;;sCAEZ,qKAAC;;gCAAE;gCAAW,EAAE,QAAQ;;;;;;;sCACxB,qKAAC;;gCAAE;gCAAW,EAAE,QAAQ;;;;;;;sCACxB,qKAAC;;gCAAE;gCAAS,EAAE,MAAM;;;;;;;sCAEpB,qKAAC;4BACC,OAAO,EAAE,MAAM;4BACf,UAAU,CAAA,IACR,aAAa,EAAE,GAAG,EAAE,EAAE,MAAM,CAAC,KAAK;;8CAGpC,qKAAC;8CAAO;;;;;;8CACR,qKAAC;8CAAO;;;;;;8CACR,qKAAC;8CAAO;;;;;;;;;;;;;mBAtBL,EAAE,GAAG;;;;;;;;;;;AA8BpB"}}]
}