{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file:///E:/dev/ntt/smart-service-portal/frontend/services/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:5000/api\"\r\n});\r\n\r\n// Attach token automatically\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  if (token) {\r\n    config.headers.authorization = token;\r\n  }\r\n\r\n  return config;\r\n});\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEA,MAAM,MAAM,iKAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEA,6BAA6B;AAC7B,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC;IAEnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG;IACjC;IAEA,OAAO;AACT;uCAEe"}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file:///E:/dev/ntt/smart-service-portal/frontend/pages/dashboard.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport api from \"../services/api\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\n\nexport default function Dashboard() {\n\n  const router = useRouter();\n  const [stats, setStats] = useState({\n    total: 0,\n    open: 0,\n    progress: 0,\n    resolved: 0\n  });\n\n  const load = async () => {\n    const token = localStorage.getItem(\"token\") || \"\";\n    const res = await api.get(\"/requests\", {\n      headers: {\n        authorization: token\n      }\n    });\n\n    const all = res.data;\n\n    setStats({\n      total: all.length,\n      open: all.filter(r => r.status === \"Open\").length,\n      progress: all.filter(r => r.status === \"In Progress\").length,\n      resolved: all.filter(r => r.status === \"Resolved\").length\n    });\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      router.push(\"/login\");\n      return;\n    }\n    // eslint-disable-next-line\n    load();\n  }, [router]);\n\n  const logout = () => {\n    localStorage.removeItem(\"token\");\n    router.push(\"/login\");\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"topbar\">\n        <h2 className=\"title\">Dashboard</h2>\n        <div className=\"nav\">\n          <Link className=\"btn-secondary\" href=\"/requests\">Requests</Link>\n          <Link className=\"btn\" href=\"/create\">New Request</Link>\n          <button className=\"btn-ghost\" onClick={logout}>Logout</button>\n        </div>\n      </div>\n\n      <div className=\"grid grid-2\">\n        <div className=\"card\">\n          <div className=\"muted\">Total</div>\n          <div className=\"stat-value\">{stats.total}</div>\n        </div>\n\n        <div className=\"card\">\n          <div className=\"muted\">Open</div>\n          <div className=\"stat-value\">{stats.open}</div>\n        </div>\n\n        <div className=\"card\">\n          <div className=\"muted\">In Progress</div>\n          <div className=\"stat-value\">{stats.progress}</div>\n        </div>\n\n        <div className=\"card\">\n          <div className=\"muted\">Resolved</div>\n          <div className=\"stat-value\">{stats.resolved}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;AAEe,SAAS;IAEtB,MAAM,SAAS,IAAA,oIAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;QACjC,OAAO;QACP,MAAM;QACN,UAAU;QACV,UAAU;IACZ;IAEA,MAAM,OAAO;QACX,MAAM,QAAQ,aAAa,OAAO,CAAC,YAAY;QAC/C,MAAM,MAAM,MAAM,+HAAG,CAAC,GAAG,CAAC,aAAa;YACrC,SAAS;gBACP,eAAe;YACjB;QACF;QAEA,MAAM,MAAM,IAAI,IAAI;QAEpB,SAAS;YACP,OAAO,IAAI,MAAM;YACjB,MAAM,IAAI,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,QAAQ,MAAM;YACjD,UAAU,IAAI,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,eAAe,MAAM;YAC5D,UAAU,IAAI,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,YAAY,MAAM;QAC3D;IACF;IAEA,IAAA,gHAAS,EAAC;QACR,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,CAAC,OAAO;YACV,OAAO,IAAI,CAAC;YACZ;QACF;QACA,2BAA2B;QAC3B;IACF,GAAG;QAAC;KAAO;IAEX,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAG,WAAU;kCAAQ;;;;;;kCACtB,qKAAC;wBAAI,WAAU;;0CACb,qKAAC,gIAAI;gCAAC,WAAU;gCAAgB,MAAK;0CAAY;;;;;;0CACjD,qKAAC,gIAAI;gCAAC,WAAU;gCAAM,MAAK;0CAAU;;;;;;0CACrC,qKAAC;gCAAO,WAAU;gCAAY,SAAS;0CAAQ;;;;;;;;;;;;;;;;;;0BAInD,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;gCAAI,WAAU;0CAAQ;;;;;;0CACvB,qKAAC;gCAAI,WAAU;0CAAc,MAAM,KAAK;;;;;;;;;;;;kCAG1C,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;gCAAI,WAAU;0CAAQ;;;;;;0CACvB,qKAAC;gCAAI,WAAU;0CAAc,MAAM,IAAI;;;;;;;;;;;;kCAGzC,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;gCAAI,WAAU;0CAAQ;;;;;;0CACvB,qKAAC;gCAAI,WAAU;0CAAc,MAAM,QAAQ;;;;;;;;;;;;kCAG7C,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;gCAAI,WAAU;0CAAQ;;;;;;0CACvB,qKAAC;gCAAI,WAAU;0CAAc,MAAM,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;AAKrD"}}]
}